{"version":3,"names":["Home","cov_5u03cn2mb","f","posts","setPosts","s","_react","useState","loading","setLoading","isOfflineMode","setIsOfflineMode","fetchPosts","response","fetch","data","json","success","b","mock","warning","console","warn","error","useEffect","handlePostCreated","handlePostDeleted","_jsxruntime","jsx","className","jsxs","_PostForm","default","onPostCreated","_PostList","onPostDeleted"],"sources":["C:\\Users\\janne\\Documents\\workspace\\my-board-app\\app\\page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport PostForm from '@/components/PostForm';\nimport PostList from '@/components/PostList';\n\nexport interface Post {\n  _id: string;\n  title: string;\n  author: string;\n  content: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport default function Home() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [isOfflineMode, setIsOfflineMode] = useState(false);\n\n  const fetchPosts = async () => {\n    try {\n      const response = await fetch('/api/posts');\n      const data = await response.json();\n      if (data.success) {\n        setPosts(data.data);\n        setIsOfflineMode(data.mock === true);\n        if (data.warning) {\n          console.warn(data.warning);\n        }\n      }\n    } catch (error) {\n      console.error('投稿の取得に失敗しました:', error);\n      setIsOfflineMode(true);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const handlePostCreated = () => {\n    fetchPosts();\n  };\n\n  const handlePostDeleted = () => {\n    fetchPosts();\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-100\">\n      <div className=\"container mx-auto px-4 py-8\">\n        <h1 className=\"text-3xl font-bold text-center mb-8\">シンプル掲示板</h1>\n        \n        {isOfflineMode && (\n          <div className=\"max-w-4xl mx-auto mb-4 p-4 bg-yellow-100 border border-yellow-400 text-yellow-700 rounded\">\n            <p className=\"font-bold\">オフラインモード</p>\n            <p className=\"text-sm\">MongoDBに接続できないため、データは一時的にメモリに保存されます。</p>\n          </div>\n        )}\n        \n        <div className=\"max-w-4xl mx-auto\">\n          <PostForm onPostCreated={handlePostCreated} />\n          \n          {loading ? (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-600\">読み込み中...</p>\n            </div>\n          ) : (\n            <PostList posts={posts} onPostDeleted={handlePostDeleted} />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}