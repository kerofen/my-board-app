{"version":3,"names":["cov_1t0w4gqo0e","actualCoverage","s","PostForm","onPostCreated","f","title","setTitle","_react","useState","author","setAuthor","content","setContent","isSubmitting","setIsSubmitting","handleSubmit","e","preventDefault","b","trim","alert","length","response","fetch","method","headers","body","JSON","stringify","data","json","success","error","console","_jsxruntime","jsxs","className","jsx","onSubmit","htmlFor","type","id","value","onChange","target","maxLength","disabled","rows","placeholder","Fragment","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d"],"sources":["C:\\Users\\janne\\Documents\\workspace\\my-board-app\\components\\PostForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\n\ninterface PostFormProps {\n  onPostCreated: () => void;\n}\n\nexport default function PostForm({ onPostCreated }: PostFormProps) {\n  const [title, setTitle] = useState('');\n  const [author, setAuthor] = useState('');\n  const [content, setContent] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title.trim() || !author.trim() || !content.trim()) {\n      alert('すべての項目を入力してください');\n      return;\n    }\n\n    if (content.length > 140) {\n      alert('投稿文は140文字以内で入力してください');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch('/api/posts', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ title, author, content }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setTitle('');\n        setAuthor('');\n        setContent('');\n        onPostCreated();\n      } else {\n        alert('投稿の作成に失敗しました');\n      }\n    } catch (error) {\n      console.error('エラー:', error);\n      alert('投稿の作成に失敗しました');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n      <h2 className=\"text-xl font-bold mb-4\">新規投稿</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            タイトル\n          </label>\n          <input\n            type=\"text\"\n            id=\"title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            maxLength={100}\n            disabled={isSubmitting}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"author\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            投稿者名\n          </label>\n          <input\n            type=\"text\"\n            id=\"author\"\n            value={author}\n            onChange={(e) => setAuthor(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            maxLength={50}\n            disabled={isSubmitting}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"content\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            内容 {content.length > 0 && <span className={`text-sm ${content.length > 140 ? 'text-red-500' : 'text-gray-500'}`}>({content.length}/140)</span>}\n          </label>\n          <textarea\n            id=\"content\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${content.length > 140 ? 'border-red-500' : 'border-gray-300'}`}\n            rows={5}\n            maxLength={140}\n            disabled={isSubmitting}\n            placeholder=\"140文字以内で入力してください\"\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          disabled={isSubmitting || !title.trim() || !author.trim() || !content.trim() || content.length > 140}\n          className=\"w-full bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center justify-center\"\n        >\n          {isSubmitting ? (\n            <>\n              <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              投稿中...\n            </>\n          ) : (\n            '投稿する'\n          )}\n        </button>\n      </form>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}