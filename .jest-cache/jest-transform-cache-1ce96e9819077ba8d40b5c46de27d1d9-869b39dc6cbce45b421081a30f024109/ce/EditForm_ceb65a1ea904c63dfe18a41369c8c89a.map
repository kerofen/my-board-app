{"version":3,"names":["cov_18rl6mkdqe","actualCoverage","s","EditForm","post","onCancel","onSaved","f","title","setTitle","_react","useState","author","setAuthor","content","setContent","isSubmitting","setIsSubmitting","handleSubmit","e","preventDefault","b","alert","response","fetch","_id","method","headers","body","JSON","stringify","data","json","success","error","console","_jsxruntime","jsxs","className","jsx","onSubmit","htmlFor","type","id","value","onChange","target","maxLength","disabled","rows","onClick"],"sources":["C:\\Users\\janne\\Documents\\workspace\\my-board-app\\components\\EditForm.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { Post } from '@/app/page';\n\ninterface EditFormProps {\n  post: Post;\n  onCancel: () => void;\n  onSaved: () => void;\n}\n\nexport default function EditForm({ post, onCancel, onSaved }: EditFormProps) {\n  const [title, setTitle] = useState(post.title);\n  const [author, setAuthor] = useState(post.author);\n  const [content, setContent] = useState(post.content);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!title || !author || !content) {\n      alert('すべての項目を入力してください');\n      return;\n    }\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(`/api/posts/${post._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ title, author, content }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        onSaved();\n      } else {\n        alert('更新に失敗しました');\n      }\n    } catch (error) {\n      console.error('エラー:', error);\n      alert('更新に失敗しました');\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\n      <h3 className=\"text-xl font-bold mb-4\">投稿を編集</h3>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label htmlFor=\"edit-title\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            タイトル\n          </label>\n          <input\n            type=\"text\"\n            id=\"edit-title\"\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            maxLength={100}\n            disabled={isSubmitting}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"edit-author\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            投稿者名\n          </label>\n          <input\n            type=\"text\"\n            id=\"edit-author\"\n            value={author}\n            onChange={(e) => setAuthor(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            maxLength={50}\n            disabled={isSubmitting}\n          />\n        </div>\n\n        <div>\n          <label htmlFor=\"edit-content\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            内容\n          </label>\n          <textarea\n            id=\"edit-content\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            rows={5}\n            maxLength={140}\n            disabled={isSubmitting}\n          />\n        </div>\n\n        <div className=\"flex space-x-2\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"flex-1 bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n          >\n            {isSubmitting ? '保存中...' : '保存'}\n          </button>\n          <button\n            type=\"button\"\n            onClick={onCancel}\n            disabled={isSubmitting}\n            className=\"flex-1 bg-gray-500 text-white py-2 px-4 rounded-md hover:bg-gray-600 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n          >\n            キャンセル\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n}"],"mappings":"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","ignoreList":[]}